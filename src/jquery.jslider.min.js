(function(e){function n(){if(this.complete||this.readyState=="complete"||this.readyState==4)e(this).trigger("load")}var t={width:"400px",height:"300px",display:"block",loop:true,show_arrows:true,show_buttons:true,default_image:0};e.fn.jslider=function(r){if(r){e.extend(t,r)}return this.each(function(){var r,i,s,o=e(this),u=0;if(o.data("jslider"))return;o.css({position:"relative",width:t.width});o.find(".slides").css({overflow:"hidden",position:"relative",height:t.height});o.find(".slides img").css({position:"absolute",top:0,left:0,width:"100%",height:"auto",display:"none"});if(t.show_arrows){o.find(".jslider-control").append('<ul class="arrows clearfix">'+'<li data-move="-1" class="arrow arrow-left"><a href="#">-1</a></li>'+'<li data-move="1" class="arrow arrow-right"><a href="#">1</a></li>'+"</ul>");o.find(".arrows").on("click","li",e.fn.jslider.move)}if(t.show_buttons){s=o.find(".slides img").length;i='<ul class="buttons">';for(u;u<s;u++){i+='<li class="pagination"><a href="#">'+u+"</a></li>"}i+="</ul>";o.find(".jslider-control").append(i);o.find(".buttons").on("click","li",e.fn.jslider.move).find("li").eq(t.default_image).addClass("active-button")}o.find(".slides img").eq(t.default_image).one("load",function(){var n,r;n=t.width==="auto"?o.parent().width()+"px":t.width;o.data("jslider",true).css({width:n,display:t.display});r=t.height==="auto"?e(this).height()+"px":t.height;o.find(".slides").css("height",r);e(this).addClass("active-slide").css("display","block")}).each(n)})};e.fn.jslider.move=function(r){r.preventDefault();var i=e(this),s=i.closest(".jslider"),o=s.find(".active-slide"),u=s.find(".active-button"),a=u.parent().children().length,f,l,c,h;if(i.attr("data-move")&&t.show_arrows){f=u.index()+i.data("move");if(!t.loop){if(f<0||f>=a)return}f=f%a;l=i.data("move")}else if(t.show_buttons){if(i.hasClass("active-button"))return;f=i.index();l=f>u.index()?1:-1}i.parent().off("click","li").on("click","li",function(e){e.preventDefault()});c=o.closest(".slides").find("img").eq(f);c.css("display","block");c.one("load",function(){o.removeClass("active-slide").animate({left:-(100*l)+"%"},"linear",function(){o.css({left:0,display:"none"})});h=t.height==="auto"?c.height()+"px":t.height;s.find(".slides").animate({height:h});c.addClass("active-slide").css("left",100*l+"%").animate({left:0},"linear",function(){i.parent().off("click","li");i.parent().on("click","li",e.fn.jslider.move)})}).each(n);u.removeClass("active-button").parent().children().eq(f).addClass("active-button")}})(jQuery)