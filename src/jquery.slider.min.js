(function(e){var t={width:"400px",height:"300px",loop:true,show_arrows:true,show_buttons:true,default_image:0};e.fn.slider=function(n){if(n){e.extend(t,n)}return this.each(function(){var n,r,i,s,o,u,a=e(this),f=0,l=a.find(".slides").find("img").eq(t.default_image);if(a.data("slider"))return;if(t.show_arrows){var n='<ul class="arrows clearfix">'+'<li data-move="-1" class="arrow arrow-left"><a href="#">-1</a></li>'+'<li data-move="1" class="arrow arrow-right"><a href="#">1</a></li>'+"</ul>";a.find(".slider-control").append(n);a.find(".arrows").on("click","li",e.fn.slider.move_slider)}if(t.show_buttons){i=a.find(".slides").find("img").length;var r='<ul class="buttons">';for(f;f<i;f++){r+='<li class="pagination"><a href="#">'+f+"</a></li>"}r+="</ul>";a.find(".slider-control").append(r);a.find(".buttons").on("click","li",e.fn.slider.move_slider)}l.one("load",function(){s=t.width==="auto"?a.find(".slider").width():t.width;a.find(".slider").css("width",s);o=t.height==="auto"?e(this).height()+"px":t.height;a.find(".slides").css("height",o);a.find(".buttons").find("li").eq(t.default_image).addClass("active-button");e(this).addClass("active-slide");a.data("slider",true)}).each(function(){if(this.complete||this.readyState=="complete"||this.readyState==4)e(this).trigger("load")})})};e.fn.slider.move_slider=function(n){n.preventDefault();var r=e(this),i=r.closest(".slider"),s=i.find(".active-slide"),o=i.find(".active-button"),u=o.parent().children().length,a,f,l,c;if(r.attr("data-move")&&t.show_arrows){a=o.index()+r.data("move");if(!t.loop){if(a<0||a>=u)return}a=a%u;f=r.data("move")}else if(t.show_buttons){if(r.hasClass("active-button"))return;a=r.index();f=a>o.index()?1:-1}r.parent().off("click","li");r.parent().on("click","li",function(e){e.preventDefault()});l=s.closest(".slides").find("img").eq(a);l.one("load",function(){s.removeClass("active-slide").addClass("moved-slide").animate({left:-(100*f)+"%"},"linear",function(){s.removeClass("moved-slide").css("left",0)});c=t.height==="auto"?l.height():t.height;i.find(".slides").animate({height:c+"px"});l.addClass("active-slide").css("left",100*f+"%").animate({left:0},"linear",function(){r.parent().off("click","li");r.parent().on("click","li",e.fn.slider.move_slider)})}).each(function(){if(this.complete||this.readyState=="complete"||this.readyState==4)e(this).trigger("load")});o.removeClass("active-button").parent().children().eq(a).addClass("active-button")}})(jQuery)