(function(e){function n(){if(this.complete||this.readyState=="complete"||this.readyState==4)e(this).trigger("load")}var t={width:"400px",height:"300px",loop:true,show_arrows:true,show_buttons:true,default_image:0};e.fn.slider=function(r){if(r){e.extend(t,r)}return this.each(function(){var r,i,s,o,u,a,f=e(this),l=0,c=f.find(".slides").find("img").eq(t.default_image);if(f.data("slider"))return;if(t.show_arrows){var r='<ul class="arrows clearfix">'+'<li data-move="-1" class="arrow arrow-left"><a href="#">-1</a></li>'+'<li data-move="1" class="arrow arrow-right"><a href="#">1</a></li>'+"</ul>";f.find(".slider-control").append(r);f.find(".arrows").on("click","li",e.fn.slider.move_slider)}if(t.show_buttons){s=f.find(".slides").find("img").length;var i='<ul class="buttons">';for(l;l<s;l++){i+='<li class="pagination"><a href="#">'+l+"</a></li>"}i+="</ul>";f.find(".slider-control").append(i);f.find(".buttons").on("click","li",e.fn.slider.move_slider).find("li").eq(t.default_image).addClass("active-button")}c.one("load",function(){o=t.width==="auto"?f.find(".slider").width():t.width;f.find(".slider").css("width",o);u=t.height==="auto"?e(this).height()+"px":t.height;f.find(".slides").css("height",u);e(this).addClass("active-slide");f.data("slider",true)}).each(n)})};e.fn.slider.move_slider=function(r){r.preventDefault();var i=e(this),s=i.closest(".slider"),o=s.find(".active-slide"),u=s.find(".active-button"),a=u.parent().children().length,f,l,c,h;if(i.attr("data-move")&&t.show_arrows){f=u.index()+i.data("move");if(!t.loop){if(f<0||f>=a)return}f=f%a;l=i.data("move")}else if(t.show_buttons){if(i.hasClass("active-button"))return;f=i.index();l=f>u.index()?1:-1}i.parent().off("click","li");i.parent().on("click","li",function(e){e.preventDefault()});c=o.closest(".slides").find("img").eq(f);c.one("load",function(){o.removeClass("active-slide").addClass("moved-slide").animate({left:-(100*l)+"%"},"linear",function(){o.removeClass("moved-slide").css("left",0)});h=t.height==="auto"?c.height():t.height;s.find(".slides").animate({height:h});c.addClass("active-slide").css("left",100*l+"%").animate({left:0},"linear",function(){i.parent().off("click","li");i.parent().on("click","li",e.fn.slider.move_slider)})}).each(n);u.removeClass("active-button").parent().children().eq(f).addClass("active-button")}})(jQuery)