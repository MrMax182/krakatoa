(function(e){var c,b=false,d=0;e.fn.krakatoa=function(f){c=e.extend({},e.fn.krakatoa.defaults,f);return this.each(function(){var j,n,l,g,h=e(this),o,m=h.children().length,k=0;
if(h.data("krakatoa")){return;}h.html('<div class="krakatoa-control"></div><div class="krakatoa-container">'+h.html()+"</div>");h.css({position:"relative",width:c.width});
h.find(".krakatoa-container").css({overflow:"hidden",position:"relative",height:c.height});h.find(".krakatoa-container").children().css({position:"absolute",top:0,left:0,width:c.width,height:c.height,display:"none"});
h.find(".krakatoa-container img").css({width:"100%",});h.find(".krakatoa-control").append('<ul class="arrows clearfix"><li data-move="-1" class="arrow arrow-left"><a href="#">&laquo;</a></li><li data-move="1" class="arrow arrow-right"><a href="#">&raquo;</a></li></ul>');
h.find(".arrows").on("click touchstart","li",a);if(!c.arrows){h.find(".arrows").css("display","none");}if(c.buttons){n='<ul class="buttons">';for(k;k<m;
k++){n+='<li class="pagination"><a href="#">'+k+"</a></li>";}n+="</ul>";h.find(".krakatoa-control").append(n);h.find(".buttons").on("click touchstart","li",a).find("li").eq(c.first).addClass("active-button");
}h.attr("data-krakatoa",true).css({width:c.width,display:c.display});o=h.find(".krakatoa-container").children().eq(c.first);g=c.height==="auto"?o.outerHeight(true)+"px":c.height;
h.find(".krakatoa-container").css("height",g);o.addClass("current").css("display","block");h.attr("data-current",c.first);if(c.autoplay){e.fn.krakatoa.play();
h.on("mouseleave",e.fn.krakatoa.play);h.on("mouseover",function(){clearTimeout(d);b=false;});}});};e.fn.krakatoa.play=function(){d=window.setTimeout(function(){e(".arrow-"+c.direction).trigger("click");
},c.speed);b=true;};e.fn.krakatoa.defaults={width:"400px",height:"300px",display:"block",autoplay:true,direction:"right",speed:2500,loop:true,arrows:true,buttons:true,first:0,};
function a(l){var p=e(this),f=p.closest(".krakatoa-control").parent(),o=f.find(".current"),j=f.find(".active-button"),g=f.find(".krakatoa-container").children().length,k,h,m,n;
l.preventDefault();if(p.attr("data-move")){k=(parseInt(f.attr("data-current"))+p.data("move"));if(!c.loop){if(k<0||k>=g){if(b){b=false;}return;}}k=k%g;
h=p.data("move");}else{if(c.buttons){if(p.hasClass("active-button")){return;}k=p.index();h=k>parseInt(f.attr("data-current"))?1:-1;}}p.parent().off("click touchstart","li").on("click touchstart","li",function(i){i.preventDefault();
});f.attr("data-current",k);m=o.closest(".krakatoa-container").children().eq(k);m.css("display","block");o.removeClass("current").animate({left:-(100*h)+"%"},"linear",function(){o.css({left:0,display:"none"});
});n=c.height==="auto"?m.outerHeight(true)+"px":c.height;f.find(".krakatoa-container").animate({height:n});m.addClass("current").css("left",100*h+"%").animate({left:0},"linear",function(){if(b){e.fn.krakatoa.play();
}p.parent().off("click touchstart","li");p.parent().on("click touchstart","li",a);});j.removeClass("active-button").parent().children().eq(k).addClass("active-button");
}}(jQuery));